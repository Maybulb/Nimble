<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Nimble</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css">
		<script src="js/script.js"></script>
	</head>
	<body>
		<div class="input">
			<input type="text" id="input" autofocus>
			<button type="button" onclick="query()">&#61442;</button>
		</div>
		<div class="output"> <!-- temporary -->
		</div>

		<script>
		$(function() {
			$("#input").keyup(function() {
				if (this.value == "") {
					$(".input button").css("opacity", "0.7");
				} else {
					$(".input button").css("opacity", "1");
				}
			});
		});

		const remote = require('electron').remote;
		const Menu = remote.Menu;
		const MenuItem = remote.MenuItem;

		var menuItems = [
			{
				label: "Copy",
				submenu: [
					{
						label: 'Plain Text', 
						accelerator: "CmdOrCtrl+C",
						click: function() { 
							clipboardCopy.text() 
						}
					},
					{
						label: 'Wolfram|Alpha Link',
						accelerator: "CmdOrCtrl+C+L",
						click: function() { 
							clipboardCopy.link() 
						}
					},
					{
						label: "Image",
						accelerator: "CmdOrCtrl+C+I",
						click: function() {
							clipboardCopy.image()
						}
					}
				]
			},
			{
				label: "Share",
				submenu: [
					{
						label: "Coming soon..."
					}
				]
			}
		]

		var contextmenu = new Menu.buildFromTemplate(menuItems);
		var output = document.getElementsByClassName("output")[0];
		output.addEventListener('contextmenu', function (e) {
		  e.preventDefault();
		  contextmenu.popup(remote.getCurrentWindow());
		}, false);
		</script>
	</body>
</html>
